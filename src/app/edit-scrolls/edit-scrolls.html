<div id="dlg-head"
     cdkDrag
     cdkDragRootElement=".cdk-overlay-pane"
     cdkDragBoundary=".cdk-overlay-container">
    <div id="scroll-title" cdkDragHandle>
        scrolls
    </div>
</div>

<div id="dlg-frame">
    <mat-form-field id="scroll-sel">
        <mat-label>scroll</mat-label>
        <mat-select [formControl]="scrollFormCtrl"
                    (selectionChange)="selChanged($event)" >
            <mat-option *ngFor="let scroll of scrolls"
                        [value]="scroll">
                {{scroll.name}}
            </mat-option>
        </mat-select>
        <mat-error *ngIf="scrollFormCtrl.hasError('required')">choose scroll</mat-error>
    </mat-form-field>

    <div id="edit-card" *ngIf="scrollFormCtrl.value">
        <mat-form-field>
            <input matInput
                   type="text"
                   autocomplete="off"
                   placeholder="name"
                   [formControl]="nameFormCtrl"
                   [value]="scrollFormCtrl.value.name"
                   (change)="nameChange($event)" />
            <mat-hint align="end">scroll name</mat-hint>
            <mat-error *ngIf="nameFormCtrl.hasError('required')">{{nameErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   type="number"
                   [min]="minPos"
                   [max]=" maxPos"
                   placeholder="y-position"
                   [formControl]="yPosFormCtrl"
                   [value]="scrollFormCtrl.value.yPos"
                   (change)="yPosChange($event)" />
            <mat-hint align="end">max {{maxPos}}px</mat-hint>
            <mat-error align="end" *ngIf="yPosFormCtrl.invalid">{{posErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   type="number"
                   min = 0
                   [max]="maxDuration"
                   placeholder="duration"
                   [formControl]="durationFormCtrl"
                   [value]="scrollFormCtrl.value.duration"
                   (change)="durationChange($event)" />
            <mat-hint align="end">scroll duration, max {{maxDuration}}mS</mat-hint>
            <mat-error align="end" *ngIf="durationFormCtrl.invalid">{{durationErr()}}</mat-error>
        </mat-form-field>
    </div>

    <div id="buttons-card">
        <button mat-button (click)="delScroll()">
            <mat-icon>delete_outline</mat-icon>
            del
        </button>

        <button mat-button (click)="addScroll()" [disabled]="isInvalid()">
            <mat-icon>playlist_add</mat-icon>
            add
        </button>
    </div>
</div>

<div class="edit-scrolls">
    <div>
        <button mat-stroked-button
                (click)="close()">
            Cancel
        </button>
    </div>
    <div>
        <button mat-stroked-button
                (click)="save()">
            Save
        </button>
    </div>
</div>
