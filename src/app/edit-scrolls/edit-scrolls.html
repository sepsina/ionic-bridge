<div id="dlg-head"
     cdkDrag
     cdkDragRootElement=".cdk-overlay-pane"
     cdkDragBoundary=".cdk-overlay-container">
    <div id="scroll-title" cdkDragHandle>
        scrolls
    </div>
    <!--<div id="drag-handle">
        <mat-icon>open_with</mat-icon>
    </div>-->
</div>

<div id="dlg-frame">
    <mat-form-field id="scroll-sel">
        <mat-label>scroll</mat-label>
        <mat-select [formControl]="scrollCtrl"
                    (selectionChange)="selChanged($event)">
            <mat-option *ngFor="let scroll of scrolls" [value]="scroll">
                {{scroll.name}}
            </mat-option>
        </mat-select>
        <mat-error *ngIf="scrollCtrl.hasError('required')">choose scroll</mat-error>
    </mat-form-field>

    <div id="edit-card" *ngIf="scrollCtrl.value">
        <mat-form-field>
            <input matInput
                   autocomplete="off"
                   type="text"
                   placeholder="name"
                   [formControl]="nameCtrl"
                   [ngModel]="scrollCtrl.value.name"
                   (ngModelChange)="nameChange($event)">
            <mat-hint align="end">scroll name</mat-hint>
            <mat-error *ngIf="nameCtrl.hasError('required')">{{nameErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   type="number"
                   placeholder="y-position"
                   [formControl]="yPosCtrl"
                   [ngModel]="scrollCtrl.value.yPos"
                   (ngModelChange)="yPosChange($event)">
            <mat-hint align="end">max {{maxPos}}px</mat-hint>
            <mat-error align="end" *ngIf="yPosCtrl.hasError('required')">{{posErr()}}</mat-error>
            <mat-error align="end" *ngIf="yPosCtrl.hasError('max')">{{posErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   type="number"
                   placeholder="duration"
                   [formControl]="durationCtrl"
                   [ngModel]="scrollCtrl.value.duration"
                   (ngModelChange)="durationChange($event)">
            <mat-hint align="end">scroll duration, max {{maxDuration}}mS</mat-hint>
            <mat-error align="end" *ngIf="durationCtrl.hasError('required')">{{durationErr()}}</mat-error>
            <mat-error align="end" *ngIf="durationCtrl.hasError('max')">{{durationErr()}}</mat-error>
        </mat-form-field>
    </div>

    <div id="buttons-card">
        <button mat-button (click)="delScroll()">
            <mat-icon>delete_outline</mat-icon>
            del
        </button>

        <button mat-button (click)="addScroll()">
            <mat-icon>playlist_add</mat-icon>
            add
        </button>
    </div>
</div>

<div class="edit-scrolls">
    <div>
        <button mat-stroked-button (click)="close()">Cancel</button>
    </div>
    <div>
        <button mat-stroked-button (click)="save()">Save</button>
    </div>
</div>
