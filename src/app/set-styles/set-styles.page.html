<div id="dlg-head" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragBoundary=".cdk-overlay-container">
    <div id="edit-title" cdkDragHandle>edit</div>
</div>

<div id="testCont">
    <div #testView id="testView">{{selAttr.formatedVal}}</div>
</div>
<div id="dlg-cont">
    <div class="cards-common" id="name-card">
        <mat-form-field class="form-field">
            <input matInput type="text" placeholder="attr name" [formControl]="convertToFormControl(formGroup.get('name'))" />
            <mat-hint align="end">attribute name</mat-hint>
            <mat-error *ngIf="formGroup.get('name').invalid">{{nameErr()}}</mat-error>
        </mat-form-field>
    </div>
    <div class="cards-common" id="offset-card" *ngIf="selAttr.isSensor">
        <mat-form-field id="units-sel" *ngIf="hasUnits">
            <mat-label>units</mat-label>
            <mat-select [formControl]="unitsCtrl" (selectionChange)="unitsChanged($event)">
                <mat-option *ngFor="let unit of unitSel" [value]="unit"> {{unit.name}} </mat-option>
            </mat-select>
            <mat-error *ngIf="unitsCtrl.hasError('required')">choose units</mat-error>
        </mat-form-field>
        <mat-form-field class="form-field">
            <input matInput type="number" placeholder="offset" [formControl]="convertToFormControl(formGroup.get('offset'))" />
            <mat-hint align="end">value correction</mat-hint>
            <mat-error *ngIf="formGroup.get('offset').invalid">{{offsetErr()}}</mat-error>
        </mat-form-field>
    </div>
    <div class="cards-common" id="styles-card">
        <mat-form-field>
            <input
                matInput
                type="text"
                placeholder="color"
                [formControl]="convertToFormControl(formGroup.get('color'))"
                (ngModelChange)="colorChange()"
            />
            <mat-hint align="end">text color</mat-hint>
            <mat-error *ngIf="formGroup.get('color').invalid">{{colorErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input
                matInput
                type="text"
                placeholder="background-color"
                [formControl]="convertToFormControl(formGroup.get('bgColor'))"
                (ngModelChange)="bgColorChange()"
            />
            <mat-hint align="end">background color</mat-hint>
            <mat-error *ngIf="formGroup.get('bgColor').invalid">{{bgColorErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input
                matInput
                type="number"
                [max]="maxFontSize"
                placeholder="font size"
                [formControl]="convertToFormControl(formGroup.get('fontSize'))"
                (ngModelChange)="fontSizeChange()"
            />
            <mat-hint align="end">text size, max {{maxFontSize}}px</mat-hint>
            <mat-error *ngIf="formGroup.get('fontSize').invalid">{{fontSizeErr()}}</mat-error>
        </mat-form-field>
        <div class="cards-common" id="borders-card">
            <mat-form-field>
                <input
                    matInput
                    type="text"
                    placeholder="border-color"
                    [formControl]="convertToFormControl(formGroup.get('borderColor'))"
                    (ngModelChange)="borderColorChange()"
                />
                <mat-hint align="end">frame color</mat-hint>
                <mat-error *ngIf="formGroup.get('borderColor').invalid">{{borderColorErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input
                    matInput
                    type="number"
                    [max]="maxBorderWidth"
                    placeholder="border-width"
                    [formControl]="convertToFormControl(formGroup.get('borderWidth'))"
                    (ngModelChange)="borderWidthChange()"
                />
                <mat-hint align="end">frame line width, max {{maxBorderWidth}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('borderWidth').invalid">{{borderWidthErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input
                    matInput
                    type="text"
                    placeholder="border-style"
                    [formControl]="convertToFormControl(formGroup.get('borderStyle'))"
                    (ngModelChange)="borderStyleChange()"
                />
                <mat-hint align="end">frame line style</mat-hint>
                <mat-error *ngIf="formGroup.get('borderStyle').invalid">{{borderStyleErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input
                    matInput
                    type="number"
                    [max]="maxBorderRadius"
                    placeholder="border-radius"
                    [formControl]="convertToFormControl(formGroup.get('borderRadius'))"
                    (ngModelChange)="borderRadiusChange()"
                />
                <mat-hint align="end">rounded corners radius, max {{maxBorderRadius}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('borderRadius').invalid">{{borderRadiusErr()}}</mat-error>
            </mat-form-field>
        </div>
        <div class="cards-common" id="paddings-card">
            <mat-form-field>
                <input
                    matInput
                    type="number"
                    [max]="maxPaddingTop"
                    placeholder="padding-top"
                    [formControl]="convertToFormControl(formGroup.get('paddingTop'))"
                    (ngModelChange)="paddingTopChange()"
                />
                <mat-hint align="end">top padding, max {{maxPaddingTop}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingTop').invalid">{{paddingTopErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input
                    matInput
                    type="number"
                    [max]="maxPaddingRight"
                    placeholder="padding-right"
                    [formControl]="convertToFormControl(formGroup.get('paddingRight'))"
                    (ngModelChange)="paddingRightChange()"
                />
                <mat-hint align="end">right padding, max {{maxPaddingRight}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingRight').invalid">{{paddingRightErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input
                    matInput
                    type="number"
                    [max]="maxPaddingBottom"
                    placeholder="padding-bottom"
                    [formControl]="convertToFormControl(formGroup.get('paddingBottom'))"
                    (ngModelChange)="paddingBottomChange()"
                />
                <mat-hint align="end">bottom padding, max {{maxPaddingBottom}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingBottom').invalid">{{paddingBottomErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input
                    matInput
                    type="number"
                    [max]="maxPaddingLeft"
                    placeholder="padding-left"
                    [formControl]="convertToFormControl(formGroup.get('paddingLeft'))"
                    (ngModelChange)="paddingLeftChange()"
                />
                <mat-hint align="end">left padding, max {{maxPaddingLeft}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingLeft').invalid">{{paddingLeftErr()}}</mat-error>
            </mat-form-field>
        </div>
    </div>
</div>
<div class="set-actions">
    <div>
        <button mat-stroked-button (click)="close()">Close</button>
    </div>
    <div>
        <button mat-stroked-button (click)="save()" [disabled]="!formGroup.valid">Save</button>
    </div>
</div>
