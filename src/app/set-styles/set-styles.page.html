<div id="dlg-head"
     cdkDrag
     cdkDragRootElement=".cdk-overlay-pane"
     cdkDragBoundary=".cdk-overlay-container">
    <div id="edit-title" cdkDragHandle>
        edit
    </div>
</div>

<div id="testCont">
    <div #testView id="testView">
        {{selAttr.formatedVal}}
    </div>
</div>
<div id="dlg-cont">
    <div class="cards-common" id="name-card">
        <mat-form-field class="form-field">
            <input matInput
                   type="text"
                   placeholder="attr name"
                   [formControl]="formGroup.get('name')" />
            <mat-hint align="end">attribute name</mat-hint>
            <mat-error *ngIf="formGroup.get('name').invalid">{{nameErr()}}</mat-error>
        </mat-form-field>
    </div>
    <div class="cards-common"
         id="offset-card"
         *ngIf="selAttr.isSensor">
        <mat-form-field id="units-sel"
                         *ngIf="hasUnits">
            <mat-label>units</mat-label>
            <mat-select [formControl]="unitsCtrl"
                        (selectionChange)="unitsChanged($event)">
                <mat-option *ngFor="let unit of unitSel"
                            [value]="unit">
                    {{unit.name}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="unitsCtrl.hasError('required')">choose units</mat-error>
        </mat-form-field>
        <mat-form-field class="form-field">
            <input matInput
                   type="number"
                   placeholder="offset"
                   [formControl]="formGroup.get('offset')" />
            <mat-hint align="end">value correction</mat-hint>
            <mat-error *ngIf="formGroup.get('offset').invalid">{{offsetErr()}}</mat-error>
        </mat-form-field>
    </div>
    <div class="cards-common" id="styles-card">
        <mat-form-field>
            <input matInput
                   type="text"
                   placeholder="color"
                   [formControl]="formGroup.get('color')"
                   (change)="colorChange($event)" />
            <mat-hint align="end">text color</mat-hint>
            <mat-error *ngIf="formGroup.get('color').invalid">{{colorErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   type="text"
                   placeholder="background-color"
                   [formControl]="formGroup.get('bgColor')"
                   (change)="bgColorChange($event)" />
            <mat-hint align="end">background color</mat-hint>
            <mat-error *ngIf="formGroup.get('bgColor').invalid">{{bgColorErr()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <input matInput
                   type="number"
                   [max]="maxFontSize"
                   placeholder="font size"
                   [formControl]="formGroup.get('fontSize')"
                   (change)="fontSizeChange($event)" />
            <mat-hint align="end">text size, max {{maxFontSize}}px</mat-hint>
            <mat-error *ngIf="formGroup.get('fontSize').invalid">{{fontSizeErr()}}</mat-error>
        </mat-form-field>
        <div class="cards-common" id="borders-card">
            <mat-form-field>
                <input matInput
                       type="text"
                       placeholder="border-color"
                       [formControl]="formGroup.get('borderColor')"
                       (change)="borderColorChange($event)" />
                <mat-hint align="end">frame color</mat-hint>
                <mat-error *ngIf="formGroup.get('borderColor').invalid">{{borderColorErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput
                       type="number"
                       [max]="maxBorderWidth"
                       placeholder="border-width"
                       [formControl]="formGroup.get('borderWidth')"
                       (change)="borderWidthChange($event)" />
                <mat-hint align="end">frame line width, max {{maxBorderWidth}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('borderWidth').invalid">{{borderWidthErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput
                       type="text"
                       placeholder="border-style"
                       [formControl]="formGroup.get('borderStyle')"
                       (change)="borderStyleChange($event)" />
                <mat-hint align="end">frame line style</mat-hint>
                <mat-error *ngIf="formGroup.get('borderStyle').invalid">{{borderStyleErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput
                       type="number"
                       [max]="maxBorderRadius"
                       placeholder="border-radius"
                       [formControl]="formGroup.get('borderRadius')"
                       (change)="borderRadiusChange($event)" />
                <mat-hint align="end">rounded corners radius, max {{maxBorderRadius}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('borderRadius').invalid">{{borderRadiusErr()}}</mat-error>
            </mat-form-field>
        </div>
        <div class="cards-common" id="paddings-card">
            <mat-form-field>
                <input matInput
                       type="number"
                       [max]="maxPaddingTop"
                       placeholder="padding-top"
                       [formControl]="formGroup.get('paddingTop')"
                       (change)="paddingTopChange($event)" />
                <mat-hint align="end">top padding, max {{maxPaddingTop}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingTop').invalid">{{paddingTopErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput
                       type="number"
                       [max]="maxPaddingRight"
                       placeholder="padding-right"
                       [formControl]="formGroup.get('paddingRight')"
                       (change)="paddingRightChange($event)" />
                <mat-hint align="end">right padding, max {{maxPaddingRight}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingRight').invalid">{{paddingRightErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput
                       type="number"
                       [max]="maxPaddingBottom"
                       placeholder="padding-bottom"
                       [formControl]="formGroup.get('paddingBottom')"
                       (change)="paddingBottomChange($event)" />
                <mat-hint align="end">bottom padding, max {{maxPaddingBottom}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingBottom').invalid">{{paddingBottomErr()}}</mat-error>
            </mat-form-field>
            <mat-form-field>
                <input matInput
                       type="number"
                       [max]="maxPaddingLeft"
                       placeholder="padding-left"
                       [formControl]="formGroup.get('paddingLeft')"
                       (change)="paddingLeftChange($event)" />
                <mat-hint align="end">left padding, max {{maxPaddingLeft}}px</mat-hint>
                <mat-error *ngIf="formGroup.get('paddingLeft').invalid">{{paddingLeftErr()}}</mat-error>
            </mat-form-field>
        </div>
    </div>
</div>
<div class="set-actions">
    <div>
        <button mat-stroked-button
                (click)="close()">
            Close
        </button>
    </div>
    <div>
        <button mat-stroked-button
                (click)="save()"
                [disabled]="!formGroup.valid">
            Save
        </button>
    </div>
</div>
